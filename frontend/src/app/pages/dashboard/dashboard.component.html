<div class="dashboard-container">
  <h2>Lista de Feiti√ßos</h2>

  <div *ngIf="loading" class="loading">Carregando dados...</div>
  <div *ngIf="error" class="error">{{ error }}</div>

  <div *ngIf="!loading && !error" class="lists-container">

    
    <div class="list-column">
      <h3>‚ú® Feiti√ßos Dominados</h3>
      <ul *ngIf="feiticosDominados.length > 0; else nenhumDominado">
        <li *ngFor="let f of feiticosDominados" (click)="selecionarFeitico('dominados', f.name)" [class.selected]="feiticoSelecionado?.tipo === 'dominados' && feiticoSelecionado?.nome === f.name">
          <strong>{{ f.name }}</strong><br>
          <span>{{ f.description }}</span><br>
          <em>Coment√°rio:</em> {{ f.comentario || 'Nenhum coment√°rio' }}<br>

          <button *ngIf="feiticoSelecionado?.tipo === 'dominados' && feiticoSelecionado?.nome === f.name" (click)="editarDominado(f.name); $event.stopPropagation()">
            Editar
          </button>
          <button *ngIf="feiticoSelecionado?.tipo === 'dominados' && feiticoSelecionado?.nome === f.name" (click)="excluirDominado(f.name); $event.stopPropagation()">
            Excluir
          </button>
        </li>

      </ul>
      <ng-template #nenhumDominado>
        <p class="empty">Nenhum feiti√ßo dominado ainda.</p>
      </ng-template>

      <button (click)="adicionarDominado()">Adicionar Feiti√ßo Dominado</button>

      
    </div>

    
    <div class="list-column">
      <h3>üìö Feiti√ßos a Aprender</h3>
      <ul *ngIf="feiticosAAprender.length > 0; else nenhumAAprender">
        <li *ngFor="let f of feiticosAAprender" (click)="selecionarFeitico('a-aprender', f.name)" [class.selected]="feiticoSelecionado?.tipo === 'a-aprender' && feiticoSelecionado?.nome === f.name">
          <strong>{{ f.name }}</strong><br>
          <span>{{ f.description }}</span><br>
          <em>Coment√°rio:</em> {{ f.comentario || 'Nenhum coment√°rio' }}<br>
          <p>Status: {{ f.status }}</p>
          <p>Prioridade: {{ f.prioridade }}</p>

          <button *ngIf="feiticoSelecionado?.tipo === 'a-aprender' && feiticoSelecionado?.nome === f.name" (click)="editarAAprender(f.name); $event.stopPropagation()">
            Editar
          </button>
          <button *ngIf="feiticoSelecionado?.tipo === 'a-aprender' && feiticoSelecionado?.nome === f.name" (click)="excluirAAprender(f.name); $event.stopPropagation()">
            Excluir
          </button>
        </li>

      </ul>
      <ng-template #nenhumAAprender>
        <p class="empty">Nenhum feiti√ßo na lista de aprendizado.</p>
      </ng-template>
      
      <button (click)="adicionarAAprender()">Adicionar Feiti√ßo a Aprender</button>
      
    </div>

  </div>
</div>
