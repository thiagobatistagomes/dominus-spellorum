<h2>Adicionar Feitiço</h2>

<form [formGroup]="addForm" (ngSubmit)="submit()" novalidate>

  <div class="form-group">
    <label for="name">Nome do Feitiço</label>
    <input id="name" type="text" formControlName="name" required placeholder="Ex.: Expelliarmus">
    <div class="error-messages" *ngIf="addForm.get('name')?.touched && addForm.get('name')?.invalid">
      <small>O nome do feitiço é obrigatório.</small>
    </div>
  </div>

  <div class="form-group">
    <label for="comentario">Comentário (opcional)</label>
    <input id="comentario" type="text" formControlName="comentario" placeholder="Observações ou lembretes">
  </div>

  <div *ngIf="tipoSelecionado === 'a-aprender'">
    <div class="form-group">
      <label for="status">Status</label>
      <select id="status" formControlName="status" required>
        <option value="" disabled selected>Selecione o status</option>
        <option value="pendente">Pendente</option>
        <option value="em progresso">Em Progresso</option>
      </select>
      <div class="error-messages" *ngIf="addForm.get('status')?.touched && addForm.get('status')?.invalid">
        <small>O status é obrigatório.</small>
      </div>
    </div>

    <div class="form-group">
      <label for="prioridade">Prioridade</label>
      <select id="prioridade" formControlName="prioridade" required>
        <option value="" disabled selected>Selecione a prioridade</option>
        <option value="alta">Alta</option>
        <option value="média">Média</option>
        <option value="baixa">Baixa</option>
      </select>
      <div class="error-messages" *ngIf="addForm.get('prioridade')?.touched && addForm.get('prioridade')?.invalid">
        <small>A prioridade é obrigatória.</small>
      </div>
    </div>
  </div>

  <button type="submit" [disabled]="addForm.invalid">+ Adicionar</button>

  <p class="link">
    <a (click)="navigate()" style="cursor: pointer;">Cancelar e voltar</a>
  </p>
  
</form>
